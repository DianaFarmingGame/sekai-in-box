;; need [ [ID, int], [ID int], ...]
;; craft [ID, int]
;; desc String

(block
	(csv/map-let (str/concat [*config_dir* "enhance.csv"])
		[需求物品 合成物品 描述]
		(dbs/define ["附魔" (@ (string/split 合成物品 ":") 0) {
			need ( => 需求物品
				(string/split ";")
				(array/filter (func [l] (!= l "")))
				(array/map (
					func [l] ( => l
						(string/split ":")
						(array/map string/trim)
					)
				))
			)

			craft ( => 合成物品
				(string/split ":")
				(array/map string/trim)
			)

			desc 描述
		}])
	)
)
